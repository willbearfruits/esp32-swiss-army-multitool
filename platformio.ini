; PlatformIO Project Configuration File
;
; Build options: build flags, source filter
; Upload options: custom upload port, speed and extra flags
; Library options: dependencies, extra library storages
; Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial Monitor Configuration
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Build Flags
build_flags =
    -D CORE_DEBUG_LEVEL=3
    -D CONFIG_ARDUHAL_LOG_COLORS=1
    ; Enable hardware stack guard (requires ESP-IDF menuconfig)
    ; -D CONFIG_ESP_SYSTEM_HW_STACK_GUARD=1

; Library Dependencies
lib_deps =
    adafruit/Adafruit GFX Library @ ^1.11.9
    adafruit/Adafruit SSD1306 @ ^2.5.10
    adafruit/Adafruit NeoPixel @ ^1.12.3
    madhephaestus/ESP32Encoder @ ^0.11.4
    madhephaestus/ESP32Servo @ ^3.0.5
    tzapu/WiFiManager @ ^2.0.17

; Upload Configuration
upload_speed = 921600
; Uncomment and modify for your specific port
; upload_port = /dev/ttyUSB0
; upload_port = COM3

; Board Configuration
board_build.partitions = default.csv
board_build.flash_mode = dio
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.flash_size = 4MB

; Advanced Options
; Optimize for size or speed
; build_type = release
; build_flags = ${env.build_flags} -Os

; Debug Configuration (uncomment for debugging)
; debug_tool = esp-prog
; debug_init_break = tbreak setup
; debug_speed = 500

[env:esp32dev_ota]
extends = env:esp32dev
; OTA Update Configuration (for future OTA support)
upload_protocol = espota
; upload_port = 192.168.1.100
; upload_flags =
;     --port=3232
;     --auth=admin

[env:esp32s3]
; Configuration for ESP32-S3 variant
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
lib_deps = ${env:esp32dev.lib_deps}
build_flags =
    ${env:esp32dev.build_flags}
    -D ARDUINO_USB_CDC_ON_BOOT=1

[env:esp32c3]
; Configuration for ESP32-C3 variant (single core, no dual-core support)
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
monitor_speed = 115200
lib_deps = ${env:esp32dev.lib_deps}
; Note: ESP32-C3 is single-core, dual-core features won't work
